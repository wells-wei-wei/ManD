g++ msg_process.cpp -o test -std=c++1z -pthread